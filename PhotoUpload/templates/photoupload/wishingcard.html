{% extends "PhotoUpload/base.html" %}

{% block title %} Wishing Card {% endblock %}

{% block body %}
<div class="container">
    <h1 class="text-center mt-5 mb-4">Creating Wishing Card</h1>

    <!-- Form to create wishing card -->
    <form method="post" enctype="multipart/form-data" class="mb-4" id="wishing-card-form">
        {% csrf_token %}
        <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" class="form-control" id="name" name="name">
        </div>
        <div class="form-group">
            <label for="designation">Designation:</label>
            <input type="text" class="form-control" id="designation" name="designation">
        </div>
        <div class="form-group">
            <label for="background_image">Background Image:</label>
            <input type="file" class="form-control-file" id="background_image" name="background_image">
        </div>
        <div class="text-center">
            <button type="submit" class="btn btn-primary btn-lg">Create</button>
        </div>
    </form>

    <hr>

    <h2 class="text-center mt-5">Generating Wishing Card</h2>

    {% if wishing_cards %}
    <div class="card shadow-sm text-center mt-5 position-relative" style="width: 500px; height: 500px; margin: 5rem auto; overflow: hidden; border: none;">
        <img src="{{ wishing_cards.0.background_image.url }}" class="card-img-top" alt="Wishing Card Background" style="width: 100%; height: 100%; object-fit: cover;">
        <div class="position-absolute text-center" style="top: 80%; left: 50%; transform: translate(-50%, -50%); color: white;">
            <h5 class="card-title" style="font-size: 1rem;">{{ wishing_cards.0.name }}</h5>
            <p class="card-text mb-4" style="margin-top: -0.5rem; font-size: 0.9rem;">{{ wishing_cards.0.designation }}</p>
        </div>
    </div>
    
    <div class="text-center mt-3">
        <a href="{% url 'download_wishing_card' pk=wishing_cards.0.pk %}" class="btn btn-outline-primary btn-lg">Download</a>
    </div>
    {% else %}
    <div class="text-center mt-5">
        <p>No wishing cards available.</p>
    </div>
    {% endif %}

</div>

<style>
    .card {
        border: none;
    }
    .btn-outline-primary {
        border-color: black;
        color: black;
        transition: background-color 0.3s;
        margin-top:-70px;
    }
    .btn-outline-primary:hover {
        background-color: primary;
        color: white;
    }
    .card-title {
        font-size: 1.5rem;
    }
    .card-text {
        font-size: 1.2rem;
    }
</style>

{% endblock %}
